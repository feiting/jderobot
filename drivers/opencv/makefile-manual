JDEDIR = /usr/local
INC-DIR = -I. -I/usr/include -I/usr/X11R6/include -I/usr/local/include -I/usr/X11R6/include/X11 -I../../base -I../.. `pkg-config --cflags opencv`
LIB-DIR = -L. -L/usr/lib -L -L/usr/local/lib -L/usr/X11R6/lib `pkg-config --libs-only-L opencv`
GCC = gcc
CFLAGS = -g -pedantic -Bsymbolic -Wall $(INC-DIR)
LIBS = -lm `pkg-config --libs-only-l opencv`

opencv: opencv.o 
	$(GCC) -shared -Bsymbolic -Wl,-soname,opencv.so $(LIB-DIR) -o opencv.so opencv.o  $(LIBS)

opencv.o: opencv.c 
	$(GCC) $(CFLAGS) -fPIC -c opencv.c

clean:
	rm -f *.o opencv.so

install:
	cp opencv.so $(JDEDIR)/share/jde-robot/

release:
	tar -zcvf newrelease.tgz *c makefile
